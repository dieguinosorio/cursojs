<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Nuevos tipos de datos</title>
</head>
<body>
    <h1> WeakSets & WeakMaps </h1>

</body>
<script>
/*
    El objeto WeakSet  te deja almacenar y mantener objectos debilmente en una colección.
    Los objetos WeakSet son colecciones de objetos. Un objecto en WeakSet solo puede ser agregado una vez; Esto quiere decir que es unico en la coleccion WeakSet.

    Las principales diferencias con el objeto Set son:

    A diferencia de  Sets, WeakSets  son solamente colecciones de objetos y no contienen valores arbitrarios de cualquier otro tipo.
    El WeakSet  es débil: Las referencias a objetos en la colección se mantienen débilmente..
    Si ya no hay otra referencia a un objeto almacenado en el  WeakSet, ellos pueden ser removidos por el recolector de basura.
     Esto también significa que no hay ninguna lista de objetos almacenados en la colección. Los WeakSets no son enumerables.


*/

let persona = {'nombre':'diego'}
let apellidos = {'apellido':'Osorio'}
let edad = {'edad':29}

const ws = new WeakSet();
ws.add(persona);
ws.add(apellidos);
ws.add(apellidos);
ws.add(apellidos);
ws.add(edad)

console.log(ws)

console.log(ws.has(persona))
console.log(ws.has(apellidos))

ws.delete(persona)
console.log(ws)
ws.add(persona)

//const wm = new WeakMap([['nombre','diego'],['apellido','Osorio'],['edad',29]]); 

const wm = new WeakMap()

wm.set(persona,'diego');
wm.set(apellidos,'osorio');
wm.set(edad,29);
console.log(wm)

console.log(wm.has(persona))
console.log(wm.has(apellidos))

</script>
</html>
</html>